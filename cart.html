<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart - Thapar Campus Restaurants</title>
    <link rel="stylesheet" type="text/css" href="cart.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Food Ordering Website</h1>

        </div>
    </header>

    <div class="container">
        <h2>Cart</h2>
        <ul id="cart-items">
            

        </ul>
        <p>Total: $<span id="cart-total">0.00</span></p>
    </div>

    <script>
        // JavaScript for managing the cart
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        const cartTotal = document.getElementById('cart-total');
        const cartList = document.getElementById('cart-items');

        function updateCart() {
            let total = 0;
            cartList.innerHTML = '';

            cartItems.forEach(item => {
                total += item.price;
                const listItem = document.createElement('li');
                listItem.textContent = `${item.name} - $${item.price.toFixed(2)}`;
                cartList.appendChild(listItem);
            });

            cartTotal.textContent = total.toFixed(2);
        }

        updateCart(); // Call this function when the page loads

    </script>
</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart - Food Ordering Website</title>
    <link rel="stylesheet" type="text/css" href="cart.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>Food Ordering Website</h1>
        </div>
    </header>

    <div class="container">
        <h2>Cart</h2>
        <ul id="cart-items">
            <!-- Cart items will be displayed here -->
        </ul>
        <p>Total: $<span id="cart-total">0.00</span></p>
    </div>

    <script>
        // JavaScript for managing the cart
        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        const cartTotal = document.getElementById('cart-total');
        const cartList = document.getElementById('cart-items');

        function updateCart() {
            let total = 0;
            cartList.innerHTML = '';

            const itemCounts = {}; // to keep track of the quantity of each item

            cartItems.forEach(item => {
                total += item.price;

                // Check if the item name is already in the counts
                if (itemCounts[item.name]) {
                    itemCounts[item.name] += 1;
                } else {
                    itemCounts[item.name] = 1;
                }

                const listItem = document.createElement('li');
                const quantity = itemCounts[item.name];
                listItem.innerHTML = `${item.name} - $${item.price.toFixed(2)} - ${quantity} <button onclick="removeItem('${item.name}')">Remove</button>`;
                cartList.appendChild(listItem);
            });

            cartTotal.textContent = total.toFixed(2);
        }

        // Function to remove an item from the cart
        function removeItem(itemName) {
            const itemIndex = cartItems.findIndex(item => item.name === itemName);
            if (itemIndex !== -1) {
                cartItems.splice(itemIndex, 1);
                localStorage.setItem('cartItems', JSON.stringify(cartItems));
                updateCart();
            }
        }

        updateCart(); // Call this function when the page loads
    </script>
</body>
</html>
